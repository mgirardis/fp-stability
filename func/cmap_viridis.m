function map=cmap_viridis(m)
    if nargin < 1
        f = get(groot,'CurrentFigure');
        if isempty(f)
            m = size(get(groot,'DefaultFigureColormap'),1);
        else
            m = size(f.Colormap,1);
        end
    end

    values=[0.267,0.004874,0.32942;
            0.26994,0.014625,0.34138;
            0.27381,0.031497,0.35885;
            0.27602,0.044167,0.37016;
            0.27879,0.062145,0.38659;
            0.28027,0.073417,0.39716;
            0.28192,0.089666,0.41241;
            0.28291,0.10539,0.4269;
            0.2832,0.11568,0.43611;
            0.28307,0.1309,0.44924;
            0.28262,0.14093,0.45752;
            0.28141,0.15583,0.4692;
            0.27957,0.1706,0.48;
            0.27801,0.18037,0.4867;
            0.27519,0.1949,0.496;
            0.27301,0.20452,0.50172;
            0.26931,0.21882,0.50958;
            0.26658,0.22826,0.51435;
            0.26214,0.24229,0.52084;
            0.25732,0.25613,0.52656;
            0.25394,0.26525,0.52998;
            0.24863,0.27877,0.53456;
            0.24497,0.28768,0.53726;
            0.23935,0.30085,0.54084;
            0.2336,0.31383,0.54391;
            0.22974,0.32236,0.54571;
            0.22393,0.33499,0.54805;
            0.22006,0.34331,0.54941;
            0.2143,0.35562,0.55118;
            0.2105,0.36373,0.55221;
            0.2049,0.37575,0.55353;
            0.19943,0.38761,0.55464;
            0.19586,0.39543,0.55528;
            0.19063,0.40706,0.55609;
            0.18723,0.41475,0.55655;
            0.18226,0.42618,0.55712;
            0.17742,0.43753,0.55756;
            0.17427,0.44504,0.55779;
            0.16965,0.45626,0.55803;
            0.16662,0.46371,0.55812;
            0.16214,0.47484,0.55814;
            0.15773,0.48593,0.55801;
            0.15482,0.49331,0.55784;
            0.15048,0.50437,0.55743;
            0.14761,0.51173,0.55705;
            0.14334,0.52277,0.55629;
            0.14054,0.53013,0.55566;
            0.13641,0.54117,0.55448;
            0.13244,0.55222,0.55302;
            0.12993,0.55958,0.55186;
            0.12645,0.57063,0.54984;
            0.1244,0.578,0.54829;
            0.12183,0.58905,0.54562;
            0.12009,0.6001,0.54253;
            0.11951,0.60746,0.54022;
            0.1197,0.61849,0.53635;
            0.12064,0.62583,0.53349;
            0.12344,0.63681,0.52876;
            0.12633,0.64411,0.52531;
            0.13227,0.65501,0.51966;
            0.14021,0.66586,0.51343;
            0.14662,0.67305,0.50894;
            0.15785,0.68376,0.50169;
            0.16638,0.69086,0.4965;
            0.18065,0.7014,0.48819;
            0.19657,0.71183,0.47922;
            0.20803,0.7187,0.47287;
            0.2264,0.72889,0.46279;
            0.23937,0.73559,0.45569;
            0.25986,0.74549,0.44447;
            0.28148,0.7552,0.43255;
            0.29648,0.76156,0.42422;
            0.31981,0.77091,0.41115;
            0.33588,0.77702,0.40205;
            0.36074,0.78596,0.38781;
            0.37778,0.79178,0.37794;
            0.404,0.80027,0.36255;
            0.43098,0.80847,0.34648;
            0.44937,0.81377,0.33538;
            0.4775,0.82144,0.3182;
            0.49661,0.82638,0.30638;
            0.52578,0.83349,0.28813;
            0.55548,0.84025,0.26928;
            0.57556,0.84457,0.25642;
            0.60604,0.85073,0.23671;
            0.62658,0.85464,0.22335;
            0.65764,0.86022,0.20308;
            0.67849,0.86374,0.1895;
            0.7099,0.86875,0.16926;
            0.74139,0.87345,0.14956;
            0.76237,0.87642,0.13706;
            0.79376,0.88068,0.12001;
            0.81458,0.88339,0.11035;
            0.84556,0.88732,0.099702;
            0.87617,0.89112,0.09525;
            0.89632,0.89362,0.096335;
            0.92611,0.89733,0.10407;
            0.94564,0.89982,0.11284;
            0.97442,0.90359,0.13021;
            0.99325,0.90616,0.14394];
    P = size(values,1);
    map = interp1(1:size(values,1), values, linspace(1,P,m), 'linear');
end